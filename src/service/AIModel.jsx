import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, 3 days for Couple with a Cheap budget, Give me Hotel options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time to travel each of the locations for 3 days with each day plan with best time to visit in JSON format "},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON travel plan for a budget-friendly 3-day trip to Las Vegas for a couple, including hotel options and a detailed itinerary:\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/25/4b/01/9e/circus-circus-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1393,\n        \"longitude\": -115.1637\n      },\n       \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a circus theme, offering affordable rooms and basic amenities. Includes the Adventuredome theme park (additional cost). Good for budget travelers looking for a central location.\"\n    },\n     {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/9a/d0/43/exterior.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0987,\n        \"longitude\": -115.1743\n      },\n       \"rating\": 3.8,\n       \"description\":\"A medieval-themed hotel with budget-friendly accommodations. Offers a variety of dining options and entertainment, including a pool area. Located at the south end of the Strip.\"\n\n      },\n\n     {\n      \"hotelName\": \"OYO Hotel and Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $75 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/d6/c5/c1/oyo-hotel-and-casino.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1021,\n          \"longitude\": -115.1699\n        },\n      \"rating\": 3.4,\n        \"description\": \"Budget-friendly hotel located off the main strip, provides affordable rooms, dining options, and casino. Good for those looking for a value.\"\n     }\n  ],\n   \"itinerary\": {\n      \"day1\": {\n          \"theme\": \"Exploring the South Strip & Free Attractions\",\n           \"bestTimeToVisit\": \"Morning and Evening\",\n          \"places\": [\n            {\n              \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n              \"placeDetails\": \"Iconic landmark and photo opportunity. Best to visit in the early morning to avoid crowds and harsh light for photos.\",\n              \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Welcome_to_Las_Vegas_sign_in_the_evening.jpg/1280px-Welcome_to_Las_Vegas_sign_in_the_evening.jpg\",\n               \"geoCoordinates\": {\n                \"latitude\": 36.0829,\n                \"longitude\": -115.1725\n               },\n              \"ticketPricing\": \"Free\",\n              \"rating\": 4.6,\n              \"travelTime\": \"10 mins\"\n\n            },\n              {\n              \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n               \"placeDetails\": \"Beautiful indoor garden with seasonal displays, a wonderful place to stroll and take pictures.\",\n              \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/15/7e/0b/bellagio-conservatory-and.jpg?w=700&h=-1&s=1\",\n                 \"geoCoordinates\": {\n                \"latitude\": 36.1126,\n                \"longitude\": -115.1742\n              },\n              \"ticketPricing\": \"Free\",\n              \"rating\": 4.7,\n              \"travelTime\":\"20 mins\"\n\n              },\n              {\n              \"placeName\": \"Bellagio Fountains Show\",\n                \"placeDetails\": \"Spectacular water fountain show with lights and music. Shows are every 30 minutes in the afternoons and every 15 minutes in the evenings.\",\n              \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/10/d7/af/the-bellagio-fountains.jpg?w=700&h=-1&s=1\",\n                \"geoCoordinates\": {\n                   \"latitude\": 36.1128,\n                   \"longitude\": -115.1741\n                 },\n              \"ticketPricing\": \"Free\",\n              \"rating\": 4.8,\n              \"travelTime\": \"5 mins\"\n\n             },\n             {\n              \"placeName\": \"Eiffel Tower Viewing Deck at Paris Hotel\",\n                \"placeDetails\": \"Take pictures of the Las Vegas Strip from up top, and experience the views from the eiffel tower.\",\n              \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/f3/03/f6/exterior.jpg?w=700&h=-1&s=1\",\n               \"geoCoordinates\": {\n                \"latitude\": 36.1124,\n                \"longitude\": -115.1709\n               },\n              \"ticketPricing\": \"$20-25\",\n               \"rating\": 4.5,\n               \"travelTime\":\"10 mins\"\n              },\n              {\n              \"placeName\": \"Explore the Strip at Night\",\n              \"placeDetails\":\"Walk the strip at night, enjoy the energy, see the lights and different casinos, enjoy the street artists.\",\n              \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/12/90/df/0d/las-vegas-strip.jpg?w=700&h=-1&s=1\",\n                 \"geoCoordinates\": {\n                   \"latitude\": 36.1124,\n                   \"longitude\": -115.1709\n                },\n              \"ticketPricing\":\"Free\",\n              \"rating\": 4.6,\n              \"travelTime\": \"Variable\"\n              }\n\n          ]\n      },\n      \"day2\": {\n         \"theme\": \"Downtown Vegas & Fremont Street Experience\",\n          \"bestTimeToVisit\": \"Afternoon and Evening\",\n          \"places\": [\n             {\n              \"placeName\": \"Fremont Street Experience\",\n              \"placeDetails\": \"A pedestrian mall with a light show overhead, street performers, and affordable food options. The heart of old Vegas.\",\n               \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Fremont_Street_Experience_Night.jpg/1280px-Fremont_Street_Experience_Night.jpg\",\n              \"geoCoordinates\": {\n                \"latitude\": 36.1699,\n                \"longitude\": -115.1421\n               },\n              \"ticketPricing\":\"Free\",\n              \"rating\": 4.5,\n              \"travelTime\":\"25 mins\"\n\n              },\n            {\n              \"placeName\":\"Container Park\",\n              \"placeDetails\": \"Unique shopping and entertainment area made from shipping containers, offers a play area for kids and a variety of shops and restaurants.\",\n              \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Downtown_Container_Park_sign.jpg/800px-Downtown_Container_Park_sign.jpg\",\n                \"geoCoordinates\": {\n                  \"latitude\": 36.1696,\n                   \"longitude\": -115.1388\n                },\n              \"ticketPricing\":\"Free Entry, expenses for activities\",\n              \"rating\":4.3,\n               \"travelTime\":\"10 mins\"\n\n            },\n             {\n              \"placeName\":\"The Mob Museum\",\n              \"placeDetails\": \"Interactive museum about the history of organized crime in America.\",\n               \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/12/9b/16/0c/the-mob-museum.jpg?w=700&h=-1&s=1\",\n               \"geoCoordinates\": {\n                 \"latitude\":36.1712,\n                 \"longitude\": -115.1409\n              },\n               \"ticketPricing\":\"$30-35\",\n              \"rating\": 4.7,\n                \"travelTime\":\"5 mins\"\n              },\n            {\n               \"placeName\": \"Enjoy dinner at a cheap and good restaurant.\",\n               \"placeDetails\":\"Find a good local restaurant at downtown, and try a new cuisine.\",\n               \"placeImageUrl\": \"https://images.squarespace-cdn.com/content/v1/5a7718f6e2ccd14461851244/1561090125435-8Q3H81147H3I81I2L74L/cheap+eats+las+vegas.png\",\n               \"geoCoordinates\": {\n                  \"latitude\": 36.1712,\n                   \"longitude\": -115.1409\n                },\n              \"ticketPricing\": \"Variable\",\n              \"rating\": 4.2,\n              \"travelTime\":\"Variable\"\n             },\n              {\n              \"placeName\":\"Fremont Street Light Show\",\n              \"placeDetails\":\"Experience the viva vision light show in fremont street\",\n              \"placeImageUrl\":\"https://media.tacdn.com/media/attractions-splice-spp-674x446/06/74/46/3d.jpg\",\n               \"geoCoordinates\": {\n                  \"latitude\": 36.1704,\n                   \"longitude\": -115.1413\n               },\n              \"ticketPricing\":\"Free\",\n              \"rating\": 4.6,\n                \"travelTime\": \"Variable\"\n\n             }\n\n          ]\n      },\n      \"day3\": {\n          \"theme\": \"Exploring the Mid-Strip & Departure\",\n          \"bestTimeToVisit\":\"Morning and Afternoon\",\n        \"places\": [\n            {\n              \"placeName\":\"The Venetian Hotel & Canals\",\n               \"placeDetails\": \"Explore the Venetian hotel and its canals, with the option for gondola rides(extra cost).\",\n              \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/21/08/1c/34/venetian-hotel.jpg?w=700&h=-1&s=1\",\n               \"geoCoordinates\": {\n                 \"latitude\": 36.1211,\n                 \"longitude\": -115.1697\n              },\n             \"ticketPricing\": \"Free, Gondola Ride Extra\",\n               \"rating\": 4.7,\n                \"travelTime\":\"15 mins\"\n              },\n              {\n               \"placeName\":\"Mirage Volcano Show\",\n               \"placeDetails\": \"Watch the simulated volcanic eruption in front of the Mirage hotel, occurs several times in the evening.\",\n               \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/7f/ca/49/volcano.jpg?w=700&h=-1&s=1\",\n                 \"geoCoordinates\": {\n                   \"latitude\": 36.1231,\n                   \"longitude\": -115.1723\n                },\n               \"ticketPricing\": \"Free\",\n               \"rating\": 4.6,\n                \"travelTime\":\"10 mins\"\n              },\n\n              {\n               \"placeName\": \"High Roller Observation Wheel\",\n                \"placeDetails\":\"Take the high roller wheel for an amazing view of Las Vegas.\",\n                \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/High_Roller_Las_Vegas_3.jpg/1280px-High_Roller_Las_Vegas_3.jpg\",\n                \"geoCoordinates\": {\n                 \"latitude\": 36.1218,\n                 \"longitude\": -115.1653\n               },\n                \"ticketPricing\":\"$30-35\",\n                \"rating\":4.5,\n                 \"travelTime\":\"10 mins\"\n             },\n            {\n              \"placeName\": \"Souvenir Shopping\",\n                \"placeDetails\":\"Purchase cheap souveniers in shops located in the strip.\",\n              \"placeImageUrl\":\"https://media.istockphoto.com/id/1149220111/photo/souvenir-shops-las-vegas.jpg?s=612x612&w=0&k=20&c=gJ0y4g7nQk-3tVpQ5JgK9zD0_W-m1k7z_5_m5v5y_oU=\",\n                \"geoCoordinates\": {\n                 \"latitude\": 36.1218,\n                 \"longitude\": -115.1653\n               },\n              \"ticketPricing\": \"Variable\",\n              \"rating\": 4.0,\n              \"travelTime\": \"Variable\"\n             },\n             {\n               \"placeName\": \"Departure\",\n                \"placeDetails\": \"Head to airport for departure.\",\n                 \"placeImageUrl\":\"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_622,q_75,w_1200/v1/clients/lasvegas/4_mccarran_559_f9972602-d81b-41e5-84d5-4e6290627c2f.jpg\",\n                \"geoCoordinates\": {\n                 \"latitude\": 36.0800,\n                 \"longitude\": -115.1522\n               },\n               \"ticketPricing\":\"Variable\",\n               \"rating\": \"N/A\",\n               \"travelTime\":\"20 mins\"\n             }\n        ]\n      }\n  }\n}\n```\n**Notes:**\n\n*   **Prices:** Hotel and ticket prices are estimates and can vary based on time of year, day of the week, and booking method.\n*   **Transportation:** Walking is great on the strip, consider using the bus or ride-sharing for longer distances to save money on transportation.\n*   **Flexibility:** This is a suggested plan. Feel free to adjust it based on your interests and energy levels.\n*   **Food:** Look for budget-friendly eateries or consider options like buffets with good deals.\n*   **Free Activities:** Las Vegas has many free attractions, take advantage of those.\n*   **Time to Travel:** Travel times are estimated and can vary depending on traffic and walking pace.\n\nThis plan aims to provide a great experience in Las Vegas on a budget. Enjoy your trip!\n"},
          ],
        },
      ],
    });


  